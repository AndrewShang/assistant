---

copyright:
  years: 2015, 2018
lastupdated: "2018-01-09"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}

# 计划意向和实体
{: #planning-your-entities}

要为应用程序计划*意向*，您需要考虑客户可能希望执行的操作以及希望应用程序能够处理的内容。为用户输入选择正确的意向是提供有用响应的第一步。为应用程序确定的意向将决定需要创建的对话流；意向还可能确定应用程序需要与哪些后端系统（例如，客户数据库或支付处理系统）进行集成，才能完成客户请求。

*实体*表示用户输入中的词汇或对象，实体为特定意向提供了澄清或特定上下文。如果说意向表示动词（用户希望执行的操作），那么实体就表示名词（例如，操作的对象或操作的上下文）。实体使一个意向表示多个特定操作成为可能。实体定义对象类，并具有表示该类中可能对象的特定值。

本质上，如果要捕获请求或执行操作，请使用意向。如果要捕获可能影响对请求或操作的响应方式的信息，请使用实体。

例如，假设要创建一个智能汽车仪表板应用程序，支持用户能够开启或关闭附件：

1.  收集尽可能多的实际客户问题、命令或其他输入。比起让专家创建可能的发声列表，使用真实用户的输入可以更准确地了解预期输入。请记住，客户可能会以多种不同的措词方式来表达同一类请求。例如，以下示例发声都表示关闭什么的请求：

    - `关前灯`
    - `关收音机`
    - `关空调`

1.  一旦有了示例列表，就可根据您希望应用程序支持的功能，将其分类成不同的类别；这些类别表示将要定义的意向，而示例将帮助应用程序识别新输入中的这些意向。

    不要使意向过于类似。{{site.data.keyword.conversationshort}} 服务很难区分类似意向。如果发现有多个含义相近的意向，请考虑是否可以将它们组合成单个意向，然后使用实体来提供对该意向的多个可能的响应。
    {: tip}

    因为上面的示例都表示相同的意向（关闭某些设备），所以可以调用此类别 `#turn_off`。
    请记住，客户的输入不一定是任何示例的完全匹配项；意向是使用自然语言处理来识别的。
    {: tip}

1.  然后，可以使用实体来表示用户要关闭的内容。为此，可以创建名为 `@accessory` 的实体，并为其提供以下可能的值：

    - `前灯`
    - `收音机`
    - `空调`

    对于每个值，还可以指定同义词。例如，可以将 `AC` 和`冷气`指定为`空调`的同义词；这三个字符串视为同一个值。列出用户可能引用同一值的多种方法有助于提高应用程序的准确性。
1.  收到用户的输入时，Conversation 会识别意向和实体。然后，对话流可以使用这些值来提供最佳回答。只针对重要的内容来创建实体，因为这些内容会改变应用程序对意向做出响应的方式。除了您定义的实体外，服务还提供了一组已定义的系统实体供您使用。有关更多信息，请参阅[启用系统实体](entities.html#enable_system_entities)。
    {: tip}

1.  根据需要，继续优化意向、实体和示例。不要将意向和实体组视为成品。[构建对话](dialog-build.html)时，很可能会识别到需要添加的其他意向和实体。此外，还可以继续从新客户那里收集输入，并用于添加新示例；此迭代式过程可提高应用程序准确识别意向和实体的能力。
