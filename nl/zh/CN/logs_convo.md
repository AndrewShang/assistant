---

copyright:
  years: 2015, 2018
lastupdated: "2018-02-13"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}

# 使用会话
{: #logs_convo}

要打开用户与工作空间之间的交互列表，请选择导航栏中的**用户会话**。如果**用户会话**未显示，请使用 ![菜单](images/Menu_16.png) 菜单来打开该页面。
{: shortdesc}

打开**用户会话**页面时，缺省视图将列出最后一天的结果，最新的结果最先列出。提供的信息包括：消息中使用的最热门意向 (#intent) 和任何识别到的实体 (@entity) 值，以及消息文本。对于未识别到的意向，显示的值为*不相关*。如果未识别到实体或未提供实体，那么显示的值为*找不到实体*。
![日志缺省页面](images/logs_page1.png)

值得注意的是，**用户会话**页面会显示用户与工作空间之间的*发声*总数。一个发声是用户向工作空间发送的单条消息。每个会话可能由多个发声组成。因此，此**用户会话**页面上的结果数与[概述](logs_oview.html)页面上显示的会话数不同。

## 日志限制
{: #log-limits}

保留消息的时间长度取决于 {{site.data.keyword.conversationshort}} 服务套餐：

  服务套餐                             | 交谈消息保留时间
  ------------------------------------ | ------------------------------------
  高级                                 | 最近 90 天
  标准                                 | 最近 30 天
  Lite              | 最近 7 天

## 选择数据源
{: #select-source}

缺省情况下，**用户会话**页面显示当前工作空间的发声数据。但是，有时使用发送到实例中其他工作空间的发声来改进工作空间会非常有用。例如，您可能有多个版本的生产工作空间和开发工作空间；可以使用相同的发声数据来改进其中任一工作空间。

切换到其他数据源时，{{site.data.keyword.conversationshort}} 服务将检查名为`部署标识`的元素的发声。部署标识是添加到消息 API 调用的 {{site.data.keyword.conversationshort}} 服务 API 中的唯一标识。有关将部署标识添加到消息调用的信息，请参阅[跨工作空间进行改进](logs.html#deploy_id)。

要使用具有给定部署标识的发声填充“改进”部分，请执行以下操作：

1.  选择**数据源：**
    ![数据源链接](images/data_source_1.png)
1.  选择部署
    ![数据源链接](images/data_source_2.png)
1.  单击**查看数据**

现在将显示所选数据源。

**注**：虽然**数据源：**现在显示用于改进此工作空间的发声的源，但页面顶部仍显示要向其应用更改的工作空间。

在此示例中，“改进”页面使用在其消息 API 调用中包含部署标识 `HelpDesk-Production` 的发声进行填充，但如果通过单击**保存**将发声*测试输入*添加到意向 **#No**，那么*测试输入*将添加为 `HelpDesk-Development` 工作空间中 `#No` 的示例。![数据源链接](images/data_source_3.png)

## 过滤发声

可以按*搜索用户语句*、*意向*、*实体*以及*最近* n *天*来过滤发声：

*搜索用户语句* - 在搜索栏中输入一个词。这将搜索用户的输入，但不会搜索工作空间的回复。

*意向* - 选择下拉菜单并在输入字段中输入意向，或者从填充的列表中进行选择。可以选择多个意向，这将使用任一所选意向（包括*不相关*）来过滤结果。

![“意向”下拉菜单](images/intents_filter.png)

*实体* - 选择下拉菜单并在输入字段中输入实体名称，或者从填充的列表中进行选择。可以选择多个实体，这将按任一所选实体来过滤结果。如果按意向*和*实体进行过滤，那么结果将包含同时具有这两种值的消息。还可以使用*找不到实体*来过滤结果。

![“实体”下拉菜单](images/entities_filter.png)

更新发声可能需要一些时间。请在用户与工作空间交互之后等待至少 30 分钟，然后再尝试过滤该内容。

## 查看单个发声
可以展开每个发声条目，以查看用户在整个会话中所说的内容，以及工作空间是如何回答的。要执行此操作，请选择**打开会话**。这将自动转至该会话中的所选发声。

![“打开会话”面板](images/open_convo.png)

然后，可以选择显示所选发声的分类。

![具有分类的“打开会话”面板](images/open_convo_classes.png)

## 更正意向

1.  要更正意向，请选择所选 #intent 旁边的 ![编辑](images/edit_icon.png)“编辑”图标。
1.  从提供的列表中，选择此输入的正确意向。
    - 在输入字段中开始输入，这将过滤意向列表。
    - 还可以从此菜单中选择**标记为不相关**。（有关更多信息，请参阅[标记为不相关](intents.html#mark-irrelevant)。）或者，可以选择**不对意向进行培训**，这样此发声就不会保存为培训示例。

    ![选择意向](images/select_intent.png)
1.  选择**保存**。

    ![保存意向](images/save_intent.png)

    **注**：{{site.data.keyword.conversationshort}} 服务支持将用户输入作为示例添加到意向 *as-is*。如果在意向培训数据中使用 @entity 引用作为示例，并且要保存的用户发声包含实体值或培训数据中的同义词，那么稍后必须编辑发声。保存后，在“意向”页面中编辑发声以替换它所引用的实体。有关更多信息，请参阅[直接将 @Entity 作为意向示例引用](intents.html#entity-as-example)。

## 添加实体值或同义词

1.  要添加实体值或同义词，请选择所选 @entity 旁边的 ![编辑](images/edit_icon.png)“编辑”图标。
1.  选择**添加实体**。

    ![添加实体](images/add_entity.png)
1.  现在，在带下划线的用户输入中选择一个词或短语。

    ![选择实体](images/select_entity.png)
1.  选择一个实体以将突出显示的短语添加为其值。
    - 在输入字段中开始输入，这将过滤实体和值的列表。
    - 要将突出显示的短语添加为现有值的同义词，请从下拉列表中选择 `@entity:value`。

    ![添加实体词](images/add_entity_word.png)
1.  选择**保存**。

    ![保存实体](images/add_entity_save.png)
